
<div data-collapse="medium" data-animation="default" data-duration="400" class="navbar w-nav">
  <a href="/" class="brand w-nav-brand">
      <div class="logo-design" style="font-size: 17px;"> MYN - <%= @user.name %> </div>
  </a>
  <nav role="navigation" class="nav-menu w-nav-menu">
    <!-- <a href="#" class="nav_link"><%= @user.name %></a> -->
    <%= link_to 'WATCH TWO MINUTE EXPLAINER', root_path, id: "watch_explainer_btn" %>

    <%= link_to 'Log Out', logout_path, method: :delete, id: "logout_btn" %>
  <div class="w-nav-button">
    <div class="w-icon-nav-menu"></div>
  </div>
</div>


<div class="add_contacts_container">

  <% if notice %>
    <p style="text-align: center; font-size: 20px; line-height: 1.28; margin-bottom; 40px; margin-top: 23px;"> 
       <%= notice %>
    </p>
  <% else %>
    <p style="text-align: center; font-size: 20px; line-height: 1.28; margin-bottom; 40px; margin-top: 23px;"> 
      Who are your Important Contacts <br> to Keep in Touch with?
    </p>
  <% end %>


  <%= form_for :contact, url: create_many_contacts_url do |f| %>
    <%= f.text_area :names, placeholder: "Peter Peterson, John Johnson, Tom Thomson - please separate names by comma", id: "add_contacts_field" %> <br>
    <%= f.submit "Add Your Contacts", class: "submit-button w-button" %>
  <% end %>
</div>


<div id="settings_updated" class="notice">
  changes saved succesfully.
</div>

<div class="table_container">
  <div>
    <div style="display: inline-block; width: 192px; max-width: 192px; font-weight: bold; text-decoration: underline; padding-left: 60px;">
      Name
    </div>

    <div style="display: inline-block; width: 162px; max-width: 162px; font-weight: bold; text-decoration: underline;">
      This Month
    </div> 

    <div style="display: inline-block; width: 215px; max-width: 215px; font-weight: bold; text-decoration: underline;">
      Recurring Reminders
    </div> 

      <div style="display: inline-block; width: 243px; max-width: 243px; font-weight: bold; text-decoration: underline;"> 
      Specific Reminders
    </div>
    
     <div style="display: inline-block; width: 150px; max-width: 150px; font-weight: bold; text-decoration: underline;"> 
      Contact Profiles
    </div>
  </div>

  <% @contacts.each do |contact| %>
    <p style="margin-bottom: 42px;"> 
      <%= form_for :contact, url: update_contact_url(id: contact.id),
          method: (:patch), remote: true, authenticity_token: true do |f| %>

        <div style="display: inline-block; width: 190px; max-width: 190px; font-size: 15px; padding-left: 60px;"> 
          <strong> <%= contact.name %> </strong> 
        </div>

        <div style="display: inline-block; width: 168px; max-widths: 168px;">
          <%= f.check_box :this_month, checked: contact.this_month, style: "margin-left: 33px;",
              onchange: "click_submit_btn(this); return false;", class: "this_month_check_box" %>
          <%= f.submit "this month.", style: "display: none;" %>
        </div>

        <div style="display: inline-block; width: 215px; max-width: 215px;"> 
          Every
          <%= f.number_field :interval, value: contact.interval, style: "width: 30px;",
              onchange: "click_submit_btn(this); return false;", class: "interval_field" %> 
          months
          <%= f.submit "set", style: "display: none;" %>
        </div>

        <div style="display: inline-block; width: 238px; max-width: 238px;">
          <%= link_to 'Set Email Reminder', new_reminder_path(content: contact.name),
              id: "set_reminder_btn" %>
        </div>
  
        <div style="display: inline-block; width: 195px; max-width: 195px;">
            <%= link_to 'Contact Profile', "#", id: "manage_contact_btn",
                onclick: "display_comment_section(#{contact.id}); return false" %>
        </div>
      <% end %>
    </p>

    <!-- notes sections -->
    <div id="<%= "comment_container_" + contact.id.to_s %>" class="note_taking_container">

      <div data-collapse="medium" data-animation="default" data-duration="400" class="navbar w-nav">
        <a href="/" class="brand w-nav-brand">
          <div class="logo-design" style="font-size: 17px;"> MYN - <%= @user.name %> </div>
        </a>
        <nav role="navigation" class="nav-menu w-nav-menu">
          <%= link_to 'Go Back', user_account_path(current_user), id: "watch_explainer_btn" %>
          <%= link_to 'Log Out', logout_path, method: :delete, id: "logout_btn" %>
        </nav>
        <div class="w-nav-button">
          <div class="w-icon-nav-menu"></div>
        </div>
      </div>
      <h3> Note about <%= contact.name %> </h3>
      <%= form_for :profile, :url => create_or_update_profile_url(contact_id: contact.id) do |form| %>
        <% if contact.profile %>
          <%= form.text_area :comment, value: contact.profile.comment, class: "add_note_field" %>
        <% else %>
          <%= form.text_area :comment, placeholder: "placeholder", class: "add_note_field" %>
        <% end %> <br>
        <%= form.submit "Save Your Note", class: "submit-button-2 w-button" %>
      <% end %>
    
      <h3 style="text-decoration: underline;"> Delete </h3>
      <%= link_to 'Delete Contact', delete_contact_path(id: contact.id), 
            method: :delete, data: { confirm: 'Do you want to delete this contact?' },
                id: "logout_btn" %> <br> <br>

      <h3 style="text-decoration: underline;"> More to come </h3>
      <p style="font-size: 15px;">
        New Features, including tagging, templated messages <br> and 
        social network monitoring will be added here.   
      </p>
    </div>

  <% end %>
</div> 
